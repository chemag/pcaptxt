pcaptxt Rationale
=================


= [manpage]

	- http://www.linuxjournal.com/article/1158
	- http://www.linuxfocus.org/English/November2003/article309.shtml
	- http://www.linux.com/article.pl?sid=04/02/05/1651203



= [paper/man page notes]

	- we want direct binary edition, so that all packet details can be 
		accessed and modified.
	- humans are bad with binary contents. Text-based formats are easier 
		to read and write (friendlier)
	- a operation mode that respects both requirements consists of:
		- translate binary contents to text
		- edit text
		- translate text back to original binary format
	- human-based format
		- text-based
		- there must be a one-to-one correspondence with binary format
		- must be very easy to understand, modify, and write from scratch
		- last 2 requirements preclude IMO any XML-based format
		- also, pdlm format does not preserve information (at least L7 contents), 
			i.e., it does not guarantee one-to-one correspondence
	- we want the translation operation to be managed transparently by the 
		editor (vi, emacs)
		- for the user, she'll just open a trace file using her favorite 
			editor, do the changes in the text format, and then save it



= [rationale]

	- edit with vi
		- there's no editor but Vi!

	-  why not netdude?
		- keeps crashing (at least for me)
		- GUI-based edition too slow
		- not flexible/useful enough

	-  why own format instead of pdlm?
		- (-) there's already a ~txt file format for traces (pdlm), with some
			support in wireshark
			- (+) good for representing information, but not necessarily to edit
		- (+) xml-based files are inconvenient/unflexible to edit using vi/emacs
			- <.....>
		  	</.....>
		- (+) no pdlm2pcap support yet



= [publication]

	- Usenix?

	- check Christian's paper on Netdude for contents and conference focus
		(where to send the paper)

	- check Vern



= [todo]

	- send code for testing to Vern/Christian/Robin/Joan(?)

	- SVNize

	- fix seq
		- unlimited size (1M conn -> only 16 MB)
		- add note to usage/paper on effect of traffic edition on this field
			- "ok" in seq means seq number isok considering the previous packet
				in the same connection

	- write usage notes

	- rethink escape business
		- really hate having to escape '=' and ','
		- '\\' must be escaped
		- once we're escaping '\\', why not escaping just it? 
			- i.e., sort of     "name \= value\, name1 \= value2"
			- or maybe just "name = value including an equal sign \= right?, 
		- blanks ('\t', ' ', '\n', and '\r') must be escaped anyhow
		- non-printable chars (npc's) are escaped using '\xab'

	- autoconf'ize



= [applications]

	- trace edition/crafting
		- should write newtcp/newudp command on .vimrc
	- add comments to traces
	- trace diff



= [trace diff]

	- mode --diff
		- no packet index
	- write tracediff based on 
		- pcaptxt
		- old notes
		- mail back and forth with Mark Allman with ideas

